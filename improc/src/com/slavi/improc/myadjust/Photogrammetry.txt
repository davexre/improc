Maths:

КС - Координатна Система

Дадено:
=======
Снимки (I1, I2, ... In)
Фокусен център на снимките: S1(xs1, ys1, zs1)
Фокусно разстояние на снимка 1: F1
Точка от заснемания обект P(px, py, pz)
Координати на образа на точка в снимката P1(px1, py1) - КС е в центъра на снимката O(width /2, height/2)
Ротация на КС на снимката спрямо голбална КС: (ZYZ) rZ1, rY, rZ2
Матрица за ротация на снимка 1 -> M1 = M1[3,3] = ZYZ.make( rZ1, rY, rZ2 )
Координати на образа на точка от снимка в голбална КС: PW1 = M1 * P1(px1, py1, F1) + S1
Съответстващи точки от снимка 1 и 2 -> P1(px1, py1) P2(px2, py2)

Формираме равнината S1,S2,PW1 - вектори A(S1,PW1), B(S1,S2) и C(S2, PW2)
Намираме нормалата към тази равнина - вектор N = A x B (cross product, векторно произведение)
N.x = S1.y * PW1.z - S1.z * PW1.y
N.y = S1.z * PW1.x - S1.x * PW1.z
N.z = S1.x * PW1.y - S1.y * PW1.x

Условие за компланарност (coplanarity http://en.wikipedia.org/wiki/Co-planar_vectors)
Ако точките са "наистина съответстващи" и параметрите за ротация и транслация на КС на снимките са верни,
то скаларното произведение (dot product) на N и C е нула:
N.C = 0
N.x * C.x + N.y * C.y + N.z * C.z = 0
C = PW2 - S2
